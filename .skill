# fileview-autopilot.skill

name: fileview-autopilot
description: "fileview開発の高速実行モード。品質確認、PR作成、マージ、リリースまでを最短で回す。"
version: "1.0"
language: "ja"

defaults:
  branch_from: "main"
  run_checks:
    - "cargo fmt --all -- --check"
    - "cargo clippy --all-targets -- -D warnings"
    - "cargo test --quiet"
    - "cargo audit"
  docs_sync:
    - "README.md"
    - "README_ja.md"
    - "docs/ROADMAP.md"
    - "docs/DEVELOPMENT_HISTORY.md"
    - "CHANGELOG.md"

workflow:
  - "git statusを確認し、作業差分と現在ブランチを最初に報告する"
  - "思想.md を常に参照し、20%ターミナル空間でのAI駆動開発支援を最優先する"
  - "score.md の競合スコアを更新し、改善テーマを1つ決める"
  - "必要なら main から作業ブランチを作成する"
  - "scripts/ai_growth_loop.sh で品質/セキュリティチェックを回す"
  - "実装後に run_checks を実行し、結果を要約する"
  - "コミット・push・PR作成・CI確認を行う"
  - "ユーザー指示があればマージ、タグ作成、cargo publishを実行する"
  - "最後に残タスクを3行以内で提示する"

release_policy:
  - "安定版は vX.Y.Z"
  - "先行版は vX.Y.Z-alpha"
  - "GitHub Releasesとgit tagの不整合を残さない"

safety:
  - "破壊的コマンド（reset --hard / checkout -- / rm -rf）を使わない"
  - "ユーザー未指示のrevertをしない"
  - "CIが課金制限で動かない場合はローカル検証結果を明示する"

note:
  - "この .skill は運用ルール定義。Codex/Claudeの無限自動実行を強制するものではない。"
  - "常時実行が必要な場合は cron/launchd/GitHub Actions で定期ジョブ化する。"
